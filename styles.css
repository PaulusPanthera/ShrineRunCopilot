
:root{
  --bg0:#0a0f18;
  --bg1:rgba(10,15,24,.78);
  --panel:rgba(16,22,35,.78);
  --panel2:rgba(16,22,35,.60);
  --border:rgba(120,170,255,.18);
  --text:#e8eefc;
  --muted:rgba(232,238,252,.70);
  --muted2:rgba(232,238,252,.55);
  --accent:#7aa7ff;
  --good:#4fe3a1;
  --warn:#ffd166;
  --bad:#ff5d73;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: var(--bg0);
  overflow:hidden;
}
body::before{
  content:"";
  position:fixed; inset:0;
  background:
    radial-gradient(1200px 700px at 20% 10%, rgba(122,167,255,.18), transparent 60%),
    radial-gradient(900px 600px at 80% 30%, rgba(180,90,255,.16), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.65)),
    url("assets/bg.png");
  background-size:cover;
  background-position:center;
  filter:saturate(1.1) contrast(1.05);
  z-index:-2;
}
body::after{
  content:"";
  position:fixed; inset:0;
  background: radial-gradient(900px 700px at 50% 120%, rgba(0,0,0,.55), transparent 55%);
  z-index:-1;
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  border-bottom:1px solid var(--border);
  background: rgba(6,10,18,.72);
  backdrop-filter: blur(12px);
  gap:14px;
}
.brand{min-width:260px}
.brand-title{font-weight:800; letter-spacing:.2px}
.brand-sub{font-size:12px}
.muted{color:var(--muted)}
.small{font-size:12px}

.top-actions{display:flex; gap:10px; align-items:center}
.btn{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background: rgba(16,22,35,.55);
  color:var(--text);
  cursor:pointer;
  box-shadow: 0 8px 20px rgba(0,0,0,.18);
}
.btn:hover{border-color:rgba(122,167,255,.35); background: rgba(16,22,35,.75)}
.btn-danger{border-color: rgba(255,93,115,.35)}
.btn-danger:hover{border-color: rgba(255,93,115,.55); background: rgba(40,10,16,.75)}

.layout{
  display:grid;
  grid-template-columns: 320px 1fr;
  height: calc(100vh - 64px);
}

.layout.layout-single{
  grid-template-columns: 1fr;
}
.sidebar{
  padding:14px;
  overflow:auto;
}
.content{
  padding:14px;
  overflow:auto;
}

.panel{
  background: var(--panel);
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:12px;
}
.panel + .panel{margin-top:12px}
.panel-title{font-weight:800; margin-bottom:10px}
.panel-subtitle{margin-top:12px; margin-bottom:8px; font-weight:700; color:var(--muted)}
.panel-foot{background: var(--panel2)}

.field{display:flex; flex-direction:column; gap:6px; margin-bottom:10px}
.field label{font-size:12px; color:var(--muted)}
.field input[type="number"], .field input[type="text"], .field select{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background-color: rgba(6,10,18,.65);
  color:var(--text);
}
.field input[type="range"]{width:100%}

.grid2{display:grid; grid-template-columns:1fr 1fr; gap:10px}

.check{display:flex; gap:10px; align-items:flex-start; margin:8px 0; font-size:13px; color:var(--muted)}
.check input{margin-top:3px}

.label-row{display:flex; justify-content:space-between; align-items:center}
.value{font-size:12px; color:var(--muted)}

.tabs{
  display:flex; gap:10px; margin-bottom:12px;
}
.tabs-top{margin:0; justify-content:center; flex:1}
.tab{
  padding:10px 14px;
  border-radius: 999px;
  border:1px solid var(--border);
  background: rgba(16,22,35,.55);
  color:var(--text);
  cursor:pointer;
}
.tab.active{border-color: rgba(122,167,255,.55); background: rgba(16,22,35,.78)}
.tab:hover{border-color: rgba(122,167,255,.35)}

.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:20px;
  padding:0 8px;
  height:18px;
  border-radius:999px;
  font-size:11px;
  margin-left:8px;
  border:1px solid rgba(122,167,255,.35);
  background: rgba(122,167,255,.14);
  color: var(--text);
}
.tabpage{margin-bottom:20px}
.hidden{display:none !important}

/* Modal / Easter egg */
.modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  z-index: 50;
}
.modal-card{
  width: min(720px, 96vw);
  border-radius: 16px;
  border:1px solid rgba(122,167,255,.25);
  background: rgba(10,15,24,.92);
  box-shadow: 0 30px 70px rgba(0,0,0,.55);
  overflow:hidden;
}
.modal-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  padding:14px 14px 10px 14px;
  border-bottom:1px solid rgba(122,167,255,.18);
}
.modal-title{font-weight:900; letter-spacing:.2px}
.modal-body{padding:14px}
.btn-mini{padding:6px 10px; border-radius:10px}

.egg-stats{display:flex; gap:16px; align-items:center; margin-bottom:10px; font-weight:700}
.egg-arena{
  position:relative;
  height: 320px;
  border-radius: 14px;
  border:1px solid rgba(122,167,255,.18);
  background:
    radial-gradient(800px 420px at 30% 20%, rgba(122,167,255,.16), transparent 55%),
    radial-gradient(700px 420px at 80% 60%, rgba(180,90,255,.12), transparent 55%),
    rgba(16,22,35,.55);
  overflow:hidden;
}
.egg-ball{
  position:absolute;
  width: 54px;
  height: 54px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.20);
  box-shadow: 0 12px 25px rgba(0,0,0,.35);
  cursor:pointer;
  background:
    radial-gradient(circle at 50% 52%, rgba(255,255,255,.9) 0 6px, rgba(0,0,0,.9) 7px 9px, rgba(255,255,255,.95) 10px 12px, transparent 13px),
    linear-gradient(180deg, #e23b3b 0 50%, #e7eefc 50% 100%);
}
.egg-ball:active{transform: scale(.96)}

.overview{
  margin-bottom:12px;
  padding:14px;
}
.overview-head{
  display:flex;
  justify-content:space-between;
  gap:14px;
  align-items:center;
}
.overview-right{display:flex; gap:10px; align-items:center}
.overview.collapsed .overview-body{display:none}
.overview-left{display:flex; gap:12px; align-items:center}
.ov-title{font-size:18px; font-weight:900}
.overview-body{margin-top:12px}
.table{
  width:100%;
  border-collapse:collapse;
  overflow:hidden;
  border-radius:12px;
  border:1px solid var(--border);
}
.table th,.table td{
  padding:10px 10px;
  border-bottom:1px solid rgba(120,170,255,.10);
  vertical-align:top;
}
.table th{font-size:12px; text-align:left; color:var(--muted); background: rgba(6,10,18,.45)}
.table tr:hover td{background: rgba(122,167,255,.06)}

.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:3px 10px;
  border-radius:999px;
  border:1px solid rgba(122,167,255,.20);
  background: rgba(6,10,18,.50);
  color:var(--muted);
  font-size:12px;
}
.pill.good{border-color: rgba(79,227,161,.35); color: rgba(79,227,161,.95)}
.pill.bad{border-color: rgba(255,93,115,.35); color: rgba(255,93,115,.95)}
.pill.warn{border-color: rgba(255,209,102,.35); color: rgba(255,209,102,.95)}
.pill.info{border-color: rgba(122,221,255,.35); color: rgba(122,221,255,.95)}

.sprite{width:28px;height:28px; image-rendering: pixelated; filter: drop-shadow(0 6px 10px rgba(0,0,0,.35));}
.sprite-sm{width:22px;height:22px}
.sprite-md{width:48px;height:48px}
.sprite-lg{width:72px;height:72px}
.sprite-xl{width:64px;height:64px}

.section-title{
  margin:16px 0 10px;
  font-weight:900;
  letter-spacing:.4px;
  color: rgba(232,238,252,.9);
  display:flex; align-items:center; justify-content:space-between;
}
.section-sub{font-size:12px; color:var(--muted)}
.boss{
  margin:10px 0 16px;
  padding:12px 14px;
  border-radius: var(--radius);
  border:1px solid rgba(255,209,102,.25);
  background: rgba(30,20,10,.55);
  display:flex; align-items:center; justify-content:space-between;
  box-shadow: var(--shadow);
}
.boss .title{font-weight:900}
.boss .hint{font-size:12px; color: rgba(255,209,102,.9)}

.wave-card{
  margin-bottom:10px;
  padding:12px;
  border-radius: var(--radius);
  border:1px solid rgba(120,170,255,.16);
  background: rgba(16,22,35,.62);
  box-shadow: 0 10px 24px rgba(0,0,0,.22);
}
.wave-card.expanded{
  background: rgba(10,14,24,.92);
  border-color: rgba(122,167,255,.28);
  box-shadow: 0 18px 55px rgba(0,0,0,.55);
  backdrop-filter: blur(12px);
}
.wave-card.expanded .panel{
  background: rgba(10,14,24,.88);
  backdrop-filter: blur(10px);
}
.wave-head{
  display:flex; justify-content:space-between; align-items:center;
  gap:10px;
}
.wave-left{display:flex; gap:10px; align-items:center; min-width:0}
.wave-title{font-weight:900}
.wave-meta{font-size:12px; color:var(--muted)}
.wave-actions{display:flex; gap:8px; align-items:center}
.btn-mini{
  padding:6px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background: rgba(6,10,18,.55);
  color:var(--text);
  cursor:pointer;
  font-size:12px;
}
.btn-mini:hover{background: rgba(6,10,18,.75); border-color: rgba(122,167,255,.35)}

.wave-body{margin-top:12px}
.teambar{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center;
  padding:10px;
  border-radius: 12px;
  border:1px solid rgba(122,167,255,.18);
  background: rgba(6,10,18,.45);
  margin-bottom:10px;
}
.teambar .label{font-size:12px; color:var(--muted); font-weight:800; letter-spacing:.2px}
.teambar .select{
  display:flex; gap:8px; align-items:center;
}
.select select{
  min-width:180px;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background-color: rgba(6,10,18,.65);
  color:var(--text);
}

.team-picker{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}
.team-item{
  display:flex;
  gap:8px;
  align-items:center;
  padding:6px 10px;
  border-radius: 999px;
  border:1px solid rgba(122,167,255,.18);
  background: rgba(16,22,35,.40);
  cursor:pointer;
  user-select:none;
  font-size:12px;
}
.team-item input{margin:0}
.team-item:hover{border-color: rgba(122,167,255,.40); background: rgba(16,22,35,.55)}
.team-item.disabled{opacity:.45; cursor:not-allowed}
.team-item .name{font-weight:800}
.suggestions{display:flex; flex-wrap:wrap; gap:8px}
.chip{
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(122,167,255,.20);
  background: rgba(6,10,18,.50);
  cursor:pointer;
  font-size:12px;
  color:var(--muted);
}
.chip:hover{border-color: rgba(122,167,255,.45); color: var(--text)}
.chip strong{color:var(--text)}

.roster-layout{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:12px;
}
.list{
  border:1px solid var(--border);
  border-radius: var(--radius);
  overflow:hidden;
}
.list-head{
  padding:10px 12px;
  border-bottom:1px solid rgba(120,170,255,.10);
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  background: rgba(6,10,18,.45);
}
.list-head input{
  width:100%;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background: rgba(6,10,18,.60);
  color:var(--text);
}
/* Use page scrolling (no inner scrollbars). */
.list-body{max-height: none; overflow: visible; background: rgba(16,22,35,.55)}
.row{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-bottom:1px solid rgba(120,170,255,.08);
}
.row:hover{background: rgba(122,167,255,.06)}
.row-left{display:flex; gap:10px; align-items:center; min-width:0}
.row-title{font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.row-sub{font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.row-right{display:flex; gap:8px; align-items:center}



/* --- Type chips (Pokédex-like) --- */
.typechips{display:flex; gap:6px; flex-wrap:wrap; margin-top:6px}
.typechip{
  display:inline-flex;
  align-items:center;
  padding:2px 8px;
  border-radius:999px;
  font-size:11px;
  font-weight:800;
  letter-spacing:.2px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--text);
}

/* per-type accents (soft, readable on dark) */
.type-Normal{border-color: rgba(168,167,122,.35); background: rgba(168,167,122,.14)}
.type-Fire{border-color: rgba(238,129,48,.45); background: rgba(238,129,48,.16)}
.type-Water{border-color: rgba(99,144,240,.45); background: rgba(99,144,240,.16)}
.type-Electric{border-color: rgba(247,208,44,.45); background: rgba(247,208,44,.16)}
.type-Grass{border-color: rgba(122,199,76,.45); background: rgba(122,199,76,.16)}
.type-Ice{border-color: rgba(150,217,214,.45); background: rgba(150,217,214,.16)}
.type-Fighting{border-color: rgba(194,46,40,.45); background: rgba(194,46,40,.16)}
.type-Poison{border-color: rgba(163,62,161,.45); background: rgba(163,62,161,.16)}
.type-Ground{border-color: rgba(226,191,101,.45); background: rgba(226,191,101,.16)}
.type-Flying{border-color: rgba(169,143,243,.45); background: rgba(169,143,243,.16)}
.type-Psychic{border-color: rgba(249,85,135,.45); background: rgba(249,85,135,.16)}
.type-Bug{border-color: rgba(166,185,26,.45); background: rgba(166,185,26,.16)}
.type-Rock{border-color: rgba(182,161,54,.45); background: rgba(182,161,54,.16)}
.type-Ghost{border-color: rgba(115,87,151,.45); background: rgba(115,87,151,.16)}
.type-Dragon{border-color: rgba(111,53,252,.45); background: rgba(111,53,252,.16)}
.type-Dark{border-color: rgba(112,87,70,.45); background: rgba(112,87,70,.16)}
.type-Steel{border-color: rgba(183,183,206,.45); background: rgba(183,183,206,.16)}
.type-Fairy{border-color: rgba(214,133,173,.45); background: rgba(214,133,173,.16)}
/* --- Unlocked Pokédex grid --- */
.dex-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(190px, 1fr));
  gap:10px;
  max-height:none;
  overflow:visible;
  padding:10px;
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: rgba(16,22,35,.55);
}
.dex-card{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 10px;
  border-radius: 14px;
  border:1px solid rgba(122,167,255,.16);
  background: rgba(16,22,35,.45);
  cursor:pointer;
  text-align:left;
  width:100%;
  appearance:none;
  font: inherit;
  color: var(--text);
}

.dex-top{display:flex; align-items:flex-start; gap:10px; width:100%}
.dex-levels{font-size:12px; color:var(--muted); margin-top:2px}
.dex-tag{font-size:12px; font-weight:900; padding:4px 10px; border-radius:999px; border:1px solid rgba(120,170,255,.20); background: rgba(6,10,18,.40); color:var(--muted); height:24px; display:flex; align-items:center}
.dex-tag.good{border-color: rgba(79,227,161,.35); color: rgba(79,227,161,.95)}
.dex-tag.bad{border-color: rgba(255,93,115,.35); color: rgba(255,93,115,.95)}
.dex-card.unlocked{border-color: rgba(79,227,161,.25)}
.dex-card.locked{opacity:.62; filter:saturate(.7)}
.dex-sprite{width:56px; height:56px}
.dex-card:hover{
  border-color: rgba(122,167,255,.35);
  background: rgba(16,22,35,.62);
}
.dex-card.locked{opacity:.68}
.dex-meta{min-width:0}
.dex-name{font-weight:900; white-space:normal; overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; line-height:1.15; min-height:2.3em}
.dex-status{font-size:12px; color:var(--muted)}
.dex-tag{font-size:12px; color:var(--muted)}
.dex-sprite{width:56px; height:56px}

/* Pokédex detail */
.dex-evo-row{display:flex; flex-wrap:wrap; gap:10px; margin-top:8px}
.dex-form{
  display:flex; align-items:center; gap:8px;
  padding:8px 10px;
  border-radius: 14px;
  border:1px solid rgba(122,167,255,.16);
  background: rgba(16,22,35,.45);
  cursor:pointer;
  color: var(--text);
  font: inherit;
}
.dex-form:hover{border-color: rgba(122,167,255,.35); background: rgba(16,22,35,.62)}
.dex-form.active{border-color: rgba(79,227,161,.35); box-shadow: 0 0 0 2px rgba(79,227,161,.12) inset}
.dex-form-name{font-weight:900; white-space:nowrap}

.dex-detail-head{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap}
.dex-detail-head-left{display:flex; align-items:center; gap:10px; flex-wrap:wrap}

.dex-hero{display:flex; gap:14px; align-items:center; flex-wrap:wrap}
.dex-hero-meta{min-width:0}
.dex-hero-title{font-weight:1000; font-size:20px; letter-spacing:.2px}
.dex-hero-sub{font-size:12px; color:var(--muted); margin-top:2px}
.dex-hero-badges{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}

.dex-stats{
  display:grid;
  grid-template-columns: repeat(6, minmax(64px, 1fr));
  gap:10px;
  margin-top:8px;
}
@media (max-width: 720px){
  .dex-stats{grid-template-columns: repeat(3, minmax(64px, 1fr));}
}
.dex-stat{
  border:1px solid rgba(122,167,255,.14);
  background: rgba(6,10,18,.35);
  border-radius: 12px;
  padding:8px 10px;
  text-align:center;
}
.dex-stat-hp{border-color: rgba(79,227,161,.35); background: rgba(79,227,161,.08);}
.dex-stat-atk{border-color: rgba(255,93,115,.35); background: rgba(255,93,115,.08);}
.dex-stat-def{border-color: rgba(255,209,102,.35); background: rgba(255,209,102,.08);}
.dex-stat-spa{border-color: rgba(122,167,255,.35); background: rgba(122,167,255,.08);}
.dex-stat-spd{border-color: rgba(255,164,92,.35); background: rgba(255,164,92,.08);}
.dex-stat-spe{border-color: rgba(235,130,255,.35); background: rgba(235,130,255,.08);}
.dex-stat-k{font-size:12px; color:var(--muted); font-weight:900}
.dex-stat-v{font-weight:900; margin-top:2px}

/* Pokédex moveset cards */
.dex-move-list{display:flex; flex-direction:column; gap:10px; margin-top:8px}
.dex-move-card{border:1px solid rgba(122,167,255,.14); background: rgba(6,10,18,.30); border-radius:12px; padding:10px 12px;}
.dex-move-top{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
.dex-move-name{font-weight:1000;}
.dex-move-tags{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.dex-move-desc{margin-top:6px; font-size:12px; color: var(--muted); line-height:1.25}

.dex-meta-grid{display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:10px; margin-top:6px;}
.dex-matchups{display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:10px; margin-top:8px;}
.dex-mu{border:1px solid rgba(122,167,255,.14); background: rgba(6,10,18,.30); border-radius:12px; padding:8px 10px;}

/* Type badges */
.type-badge{padding:4px 10px; border-radius:999px; font-size:12px; font-weight:900; border:1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.06);}
.type-normal{background:rgba(168,168,120,.22);} 
.type-fire{background:rgba(240,128,48,.22);} 
.type-water{background:rgba(104,144,240,.22);} 
.type-electric{background:rgba(248,208,48,.22);} 
.type-grass{background:rgba(120,200,80,.22);} 
.type-ice{background:rgba(152,216,216,.22);} 
.type-fighting{background:rgba(192,48,40,.22);} 
.type-poison{background:rgba(160,64,160,.22);} 
.type-ground{background:rgba(224,192,104,.22);} 
.type-flying{background:rgba(168,144,240,.22);} 
.type-psychic{background:rgba(248,88,136,.22);} 
.type-bug{background:rgba(168,184,32,.22);} 
.type-rock{background:rgba(184,160,56,.22);} 
.type-ghost{background:rgba(112,88,152,.22);} 
.type-dragon{background:rgba(112,56,248,.22);} 
.type-dark{background:rgba(112,88,72,.22);} 
.type-steel{background:rgba(184,184,208,.22);} 
.type-fairy{background:rgba(238,153,172,.22);} 

.badge{
  padding:3px 8px;
  border-radius:999px;
  border:1px solid rgba(120,170,255,.20);
  background: rgba(6,10,18,.40);
  font-size:12px;
  color:var(--muted);
}
.badge.good{border-color: rgba(79,227,161,.35); color: rgba(79,227,161,.95)}
.badge.warn{border-color: rgba(255,209,102,.35); color: rgba(255,209,102,.95)}

.kv{display:grid; grid-template-columns: 120px 1fr; gap:8px; align-items:center; margin:8px 0}
.kv .k{font-size:12px; color:var(--muted); font-weight:800}
.hr{height:1px; background: rgba(120,170,255,.10); margin:12px 0}




/* --- Battle simulator --- */
.battle-panel{margin-top:12px}
.battle-reinf{margin-top:10px; padding:10px; border-radius:12px; border:1px solid rgba(255,209,102,.25); background: rgba(255,209,102,.06); display:flex; flex-direction:column; gap:8px}
.battle-grid{display:grid; grid-template-columns:1fr; gap:12px; margin-top:10px}
@media (min-width: 1100px){
  .battle-grid{grid-template-columns: 1fr 1fr;}
}
.battle-side-title{font-weight:900; margin-bottom:8px}
.battle-card{
  border-radius: 14px;
  border:1px solid rgba(120,170,255,.16);
  background: rgba(10,14,24,.72);
  padding:10px;
}
.battle-card + .battle-card{margin-top:10px}
.battle-card-head{display:flex; justify-content:space-between; gap:10px; align-items:flex-start; margin-bottom:8px}
.battle-controls{margin-top:8px; padding-top:8px; border-top:1px solid rgba(120,170,255,.10)}
.battle-pp{margin-top:10px; padding-top:8px; border-top:1px solid rgba(120,170,255,.10)}
.pp-list{display:flex; flex-direction:column; gap:6px; margin-top:6px}
.pp-row{display:flex; justify-content:space-between; gap:10px; align-items:center}
.pp-move{font-size:12px; font-weight:800; color:var(--muted); overflow:hidden; text-overflow:ellipsis; white-space:nowrap}
.pp-box{display:flex; gap:6px; align-items:center}
.battle-log{margin-top:8px; max-height:none; overflow:visible; border-radius:12px; border:1px solid rgba(120,170,255,.12); background: rgba(6,10,18,.45); padding:8px}
.battle-log-line{font-size:12px; color:var(--muted); padding:3px 0; border-bottom:1px dashed rgba(120,170,255,.10)}
.battle-log-line:last-child{border-bottom:none}

/* btn-mini danger */
.btn-mini.btn-danger{border-color: rgba(255,93,115,.35)}
.btn-mini.btn-danger:hover{border-color: rgba(255,93,115,.55); background: rgba(40,10,16,.55)}
/* --- Wave planner v9 --- */
.wave-planner{margin-top:12px;}
.planner-grid{
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
}
@media (min-width: 1200px){
  .planner-grid{grid-template-columns: 0.95fr 1.05fr;}
}
.planner-stack{display:flex; flex-direction:column; gap:12px}
.pick-grid{
  display:flex;
  flex-direction:column;
  gap:8px;
  max-height:none;
  overflow:visible;
  padding-right:0;
}
.pick-item{
  display:grid;
  grid-template-columns: 34px 1fr;
  gap:10px;
  align-items:center;
  padding:8px 10px;
  border-radius: 12px;
  border:1px solid rgba(122,167,255,.16);
  background: rgba(10,14,24,.72);
}
.pick-item:hover{
  border-color: rgba(122,167,255,.35);
  background: rgba(16,22,35,.62);
}
.pick-item.cleared{
  opacity:.55;
}
.pick-item.selected{
  border-color: rgba(122,167,255,.80);
  box-shadow: 0 0 0 2px rgba(122,167,255,.22) inset, 0 10px 24px rgba(0,0,0,.22);
  background: rgba(22,30,48,.62);
}
.pick-meta{min-width:0}
.pick-title{
  font-weight:900;
  letter-spacing:.1px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.pick-sub{
  font-size:12px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.starbtn{
  border:1px solid rgba(255,209,102,.22);
  background: rgba(255,209,102,.08);
  color: rgba(255,209,102,.95);
  border-radius: 10px;
  padding:4px 8px;
  cursor:pointer;
  font-weight:900;
}
.starbtn:hover{background: rgba(255,209,102,.14); border-color: rgba(255,209,102,.35);}
.starbtn.on{
  background: rgba(255,209,102,.22);
  border-color: rgba(255,209,102,.55);
}
.starbtn:disabled{opacity:.35; cursor:not-allowed}
.check.tiny{font-size:11px; margin:0; color:var(--muted)}
.check.tiny input{transform: scale(.9)}
.planbox{
  margin-top:12px;
  padding:12px 12px;
  border-radius: var(--radius);
  border:1px solid rgba(120,170,255,.16);
  background: rgba(10,15,24,.55);
  backdrop-filter: blur(10px);
}

.orderbar{
  margin:10px 0 6px;
  padding:10px;
  border-radius: 14px;
  border:1px solid rgba(120,170,255,.14);
  background: rgba(5,10,18,.35);
}
.orderrow{display:flex; align-items:center; justify-content:space-between; gap:10px; margin:6px 0; flex-wrap:wrap;}
.orderlabel{font-weight:800; font-size:13px; color:rgba(235,245,255,.95)}
.orderctrl{display:flex; align-items:center; gap:8px; flex-wrap:wrap;}
.orderctrl .sel{
  min-width: 220px;
  max-width: 340px;
  padding:8px 10px;
  border-radius: 12px;
  border:1px solid rgba(120,170,255,.18);
  background-color: rgba(0,0,0,.25);
  color: var(--text);
}
/* Keep overview visible on top */
#attackOverview{position:sticky; top:10px; z-index:2}

/* Unlocked info layout */
.ov-static{display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:10px}
.ov-col{background: rgba(6,10,18,.35); border:1px solid rgba(120,170,255,.10); border-radius:12px; padding:12px}
.statgrid{display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:10px}
.statcell{background: rgba(16,22,35,.35); border:1px solid rgba(120,170,255,.10); border-radius:10px; padding:10px}
.statval{font-weight:700; font-size:16px; margin-top:2px}
.mvlist{display:flex; flex-direction:column; gap:8px; margin-top:8px}
.mvrow{padding:8px 10px; border:1px solid rgba(120,170,255,.10); border-radius:10px; background: rgba(16,22,35,.30)}

@media (max-width: 980px){
  .ov-static{grid-template-columns: 1fr}
  .statgrid{grid-template-columns: repeat(2, minmax(0, 1fr))}
}

/* --- Bag (v13) --- */
.bag-layout{ display:flex; gap:14px; align-items:flex-start; flex-wrap:wrap; }
.bag-col{ flex: 1 1 320px; }
.bag-form{ display:flex; gap:10px; align-items:flex-end; flex-wrap:wrap; }
.bag-form .field{ flex: 1 1 200px; }
.bag-table{ width:100%; border-collapse:collapse; }
.bag-table th, .bag-table td{ border-bottom:1px solid rgba(255,255,255,0.08); padding:8px 6px; text-align:left; }
.bag-table td:last-child{ text-align:right; }

/* Bag (grouped view) */
.bag-row{ display:grid; grid-template-columns: 1fr 80px 80px 90px; gap:10px; align-items:center; padding:10px 0; border-bottom:1px solid rgba(255,255,255,0.08); }
.bag-row.bag-head{ font-weight:900; padding-top:0; }
.bag-item{ display:flex; align-items:center; gap:10px; }
.bag-num{ text-align:right; }



/* --- Politoed shop (compact) --- */
.shop-balance{display:flex; align-items:center; gap:8px}
.shop-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:8px; margin-top:10px}
.shop-card{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 10px; border-radius:12px; border:1px solid rgba(255,255,255,0.10); background: rgba(0,0,0,0.18)}
.shop-meta{display:flex; flex-direction:column; gap:2px; min-width:0}
.shop-name{font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.shop-price{font-size:12px; color:var(--muted)}
.shop-ledger{margin-top:8px; display:flex; flex-direction:column; gap:6px}
.shop-ledger-row{font-size:12px; color:var(--muted); padding:6px 8px; border-radius:10px; border:1px solid rgba(255,255,255,0.08); background: rgba(0,0,0,0.14)}

/* Bag table column alignment */
.bag-table th:nth-child(2), .bag-table th:nth-child(3), .bag-table th:nth-child(4),
.bag-table td:nth-child(2), .bag-table td:nth-child(3), .bag-table td:nth-child(4){text-align:right}
.bag-table th:nth-child(5), .bag-table th:nth-child(6),
.bag-table td:nth-child(5), .bag-table td:nth-child(6){text-align:right; width:110px}

/* --- Settings --- */
.settings-grid{ display:flex; gap:14px; align-items:flex-start; flex-wrap:wrap; }
.settings-col{ flex: 1 1 420px; display:flex; flex-direction:column; gap:14px; }
.panel hr{ border:0; border-top:1px solid rgba(255,255,255,0.08); margin:12px 0; }


/* Per-mon battle modifiers (wave planner) */
.modrow{display:flex; flex-wrap:wrap; gap:6px; margin-top:6px}
.modchip{display:flex; align-items:center; gap:6px; padding:4px 8px; border-radius: 999px; border:1px solid rgba(120,170,255,.16); background: rgba(0,0,0,.18)}
.modchip .lbl{font-size:11px; color:var(--muted)}
.modchip select, .modchip input{font-size:12px; padding:4px 6px; border-radius:10px; border:1px solid rgba(120,170,255,.18); background-color: rgba(0,0,0,.25); color: var(--text); width:auto}
.modchip input{max-width:64px}

/* Mini controls used throughout the planner */
.sel-mini{font-size:12px; padding:4px 6px; border-radius:10px; border:1px solid rgba(120,170,255,.18); background-color: rgba(0,0,0,.25); color: var(--text)}
.inp-mini{font-size:12px; padding:4px 6px; border-radius:10px; border:1px solid rgba(120,170,255,.18); background: rgba(0,0,0,.25); color: var(--text); width:64px}

/* --- Scrollbar polish (global) --- */
/* Remove visible scrollbar entirely (scroll still works). */
html, body{ scrollbar-width: none; }
html::-webkit-scrollbar, body::-webkit-scrollbar{ width: 0; height: 0; }

/* Main app columns scroll (sidebar/content). Hide their scrollbars too. */
.sidebar, .content{ scrollbar-width: none; -ms-overflow-style: none; }
.sidebar::-webkit-scrollbar, .content::-webkit-scrollbar{ width: 0; height: 0; }

/* --- Select / dropdown polish --- */
/* Make selects match the glassy dark UI and avoid the default OS look. */
:where(select){
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  color-scheme: dark;
  border: 1px solid var(--border);
  border-radius: 10px;
  background-color: rgba(6,10,18,.65);
  color: var(--text);
  padding: 8px 34px 8px 10px;
  line-height: 1.2;
  cursor: pointer;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath fill='rgba(232,238,252,0.75)' d='M7 10l5 5l5-5z'/%3E%3C/svg%3E"),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  background-repeat: no-repeat, no-repeat;
  background-position: right 12px center, 0 0;
  background-size: 14px 14px, auto;
}
:where(select):hover{ border-color: rgba(122,167,255,.35); background-color: rgba(6,10,18,.75); }
:where(select):focus{ outline: none; border-color: rgba(122,167,255,.55); box-shadow: 0 0 0 3px rgba(122,167,255,.18); }
:where(select):disabled{ opacity:.55; cursor:not-allowed; }

/* Keep the dropdown list readable (browser support varies). */
select option{ background: var(--bg0); color: var(--text); }

/* Small selects used throughout */
select.sel-mini{
  padding: 4px 28px 4px 8px;
  border-color: rgba(120,170,255,.18);
  background-color: rgba(0,0,0,.25);
  background-position: right 10px center, 0 0;
  background-size: 12px 12px, auto;
}

/* Modchip selects should also get the arrow */
.modchip select{
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding-right: 26px;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath fill='rgba(232,238,252,0.75)' d='M7 10l5 5l5-5z'/%3E%3C/svg%3E"),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  background-repeat: no-repeat, no-repeat;
  background-position: right 10px center, 0 0;
  background-size: 12px 12px, auto;
}

/* Hide legacy IE/Edge dropdown arrow */
select::-ms-expand{ display:none; }

/* Screen-reader only (used for hidden form labels to silence Chrome Issues panel) */
.sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
